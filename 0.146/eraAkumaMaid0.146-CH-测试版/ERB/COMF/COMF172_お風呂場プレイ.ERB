@COM172
;お風呂場プレイ
CALL PRINT_TRAIN_NAME(SELECTCOM)

CALL TRAIN_MESSAGE_B

SIF REFUSE_CHECK()
	RETURN 0

STR:前回コマンド = %STR:今回コマンド%

;風呂場への出入り
CALL SETFLAG, "お風呂プレイ"

RETURN 1

@FLAG_COM172, ARG

@SOURCE_COM172, ARG
CALL VARSET_COMF

SOURCE:0:露出 = 200

;PALAM:欲情をみる
SELECTCASE PALAM:欲情
CASE IS < PALAMLV:1
	TIMES SOURCE:0:露出, 0.80
CASE IS < PALAMLV:2
	TIMES SOURCE:0:露出, 0.90
CASE IS < PALAMLV:3
	TIMES SOURCE:0:露出, 1.00
CASE IS < PALAMLV:4
	TIMES SOURCE:0:露出, 1.10
CASE IS >= PALAMLV:4
	TIMES SOURCE:0:露出, 1.20
ENDSELECT

CALL CALC, "調教ソース", ARG


@TRAIN_MESSAGE_COM172
IF TEQUIP:お風呂プレイ
	PRINTFORMW 部屋に戻ってきた…
ELSE
	PRINTFORM %CALLNAME:TARGET%を
	IF CHECK_CLO("水着姿")
		PRINTFORM 水着姿で
		CALL SET_SHIRT, ""
		CALL SET_OUTER, ""
		CALL SET_SOCKS, ""
		CALL SET_GLOVE, ""
	ELSEIF CHECK_CLO("全裸") == 0
		PRINTFORM 脱衣所で脱がせてから
		CALL SETFLAG, "衣装全脱ぎ", TARGET
	ENDIF
	PRINTFORMW 風呂場に連れて行った
	IF TEQUIP:アイマスク
		PRINTFORM 目隠しされている%CALLNAME:TARGET%は、%CALLNAME:PLAYER%
		IF TALENT:素直 || TALENT:内気
			PRINTFORM に手を引かれながら恐る恐る
		ELSE
			PRINTFORM の腕を掴んで滑らないように注意しながら
		ENDIF
		PRINTFORMW 風呂場に入ってきた…
	ELSEIF TALENT:恥じらい && ABL:露出癖 < 3 && CHECK_CLO("ハダカ")
		PRINTFORMW 風呂場に入ってきた%CALLNAME:TARGET%は顔を真っ赤にし、身体を手で隠している…
	ELSEIF TALENT:献身 && (TALENT:好色 || TALENT:淫乱)
		PRINTFORMW 風呂場に入ってきた%CALLNAME:TARGET%は好色な笑みを浮かべ、石鹸を手にとった…
	ELSEIF TALENT:献身
		PRINTFORMW 風呂場に入ってきた%CALLNAME:TARGET%は、%CALLNAME:MASTER%の背中を流そうと桶を手にとった…
	ELSEIF (TALENT:好色 || TALENT:淫乱 || TALENT:小悪魔 || TALENT:意地悪) && TALENT:恥じらい == 0 && CHECK_CLO("ハダカ")
		PRINTFORMW 風呂場に入ってきた%CALLNAME:TARGET%は露わになった裸体を隠そうともせず、%CALLNAME:MASTER%に%TEXTR("意地悪な/不敵な")%笑みを向けている…
	ELSEIF TALENT:恥薄い && CHECK_CLO("ハダカ")
		PRINTFORMW %CALLNAME:TARGET%は露わになった裸体を隠そうともせず、涼しい顔をしている…
	ENDIF
ENDIF


@EQUIP_COM172
SIF TEQUIP:お風呂プレイ == 0
	RETURN 0
SIF SELECTCOM == 172
	RETURN 0
;お風呂場プレイ
CALL SOURCE_COM172, 30

RETURN 1

@EQUIP_COM172_2
SIF TEQUIP:お風呂プレイ == 0
	RETURN 0
SIF SELECTCOM == 172
	RETURN 0

PRINTL ＜お風呂場プレイ中＞

TFLAG:好感度ボーナス += 1

RETURN 1
