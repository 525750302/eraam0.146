;-------------------------------------------------
;ABL:Çuägí£ ÇÃLVUPèàóù
;-------------------------------------------------
@ABLUP30
#DIM LCOUNT
#DIM NUM_CHOICES
#DIM SET_CHOICE
#DIM NUM_JUEL, 10

SIF TALENT:ÉIÉgÉR
	RETURN 0
SIF CONFIG("ÇuÇ`ägí£ÇÃéËìÆÇkÇuÇtÇo") == 0
	RETURN 0

;ïKóvÇ»éÏÇ»Ç«ÇÃílÇéÊìæ
CALL IS_ABLUP30
;âΩÇ‡Ç≈Ç´Ç»Ç¢èÍçá
IF RESULT == 0 && ABL:Çuägí£ >= 99
	PRINTFORMW ä˘Ç…MAXÇ≈Ç∑ÅB
	RETURN 0
ENDIF

DRAWLINE

PRINTFORML %CALLNAME:TARGET%ÇÃåªç›ÇÃÇuägí£ÇÕ{ABL:Çuägí£}LVÇ≈ÇuñºäÌìxÇÕ{ABL_V(TARGET, "ê‚ëŒíl")}Ç≈Ç∑
PRINTFORML Çuägí£LVÇè„è∏Ç≥ÇπÇ‹Ç∑Ç©ÅHÅiíçà”ÅFëäëŒìIÇ…ÇÕñºäÌìxÇÕå∏ÇÈéñÇ∆Ç»ÇËÇ‹Ç∑Åj
PRINTFORML 
;ÇkÇuÇtÇoâ¬î\
IF CALCF("Çuägí£ÇÃè„å¿", TARGET) > ABL:Çuägí£
	ABL:Çuägí£ += 1
	PRINTFORML  [ 0] Çuägí£LVÇ{ABL:Çuägí£}Ç…è„Ç∞ÇÈÅiÉåÉxÉãÇè„Ç∞ÇΩå„ÇÃÇuñºäÌìxÇÕ{ABL_V(TARGET, "ê‚ëŒíl")}Ç≈Ç∑Åj
	ABL:Çuägí£ -= 1
ELSE
	SETCOLOR DEF_COLOR("äDêF")
	PRINTFORML  [Å~] Çuägí£LVÇ{ABL:Çuägí£ + 1}Ç…è„Ç∞ÇÈ ÅcÅcÇuägí£åoå±Ç‚ëféøÇ™ïsë´ÇµÇƒÇ¢ÇÈÇÊÇ§Ç≈Ç∑
	RESETCOLOR
ENDIF

PRINTFORML [100] - Ç‚ÇﬂÇÈ

CALL INPUT_SELECT, 1, 100

SELECTCASE RESULT
CASE 100
	RETURN 0
CASEELSE
	IF CALCF("Çuägí£ÇÃè„å¿", TARGET) > ABL:Çuägí£
		ABL:Çuägí£ += 1
		CALL GET_EXABL2, TARGET
		PRINTFORMW %CALLNAME:TARGET%ÇÃÇuägí£LVÇ™{ABL:Çuägí£}Ç…Ç»ÇËÅAñºäÌìxÇÕ{ABL_V(TARGET, "ê‚ëŒíl")}Ç∆Ç»ÇËÇ‹ÇµÇΩÅB
	ENDIF
ENDSELECT

;Ç‹ÇæÉåÉxÉãÇ™è„Ç∞ÇÁÇÍÇΩÇËÇ∑ÇÈèÍçáÇ…ÇÕç≈èâÇ…ñﬂÇÈ
CALL IS_ABLUP30
SIF RESULT
	RESTART



;ABL:Çuägí£ÇÃLVUPÇ…ïKóvÇ»èåèÇéZèoÇµÅALVUPèoóàÇÈÇ»ÇÁ1Çï‘Ç∑
@IS_ABLUP30, ARGS
SIF TALENT:ÉIÉgÉR
	RETURN 0
SIF CONFIG("ÇuÇ`ägí£ÇÃéËìÆÇkÇuÇtÇo") == 0
	RETURN 0
;ç≈ëÂLVñ¢ñûÇ©ÅH
SIF ABL:Çuägí£ >= 99
	RETURN 0
;èåèÇÃÇ«ÇÍÇ©ÇÉNÉäÉAÇµÇƒÇÈÅH
SIF CALCF("Çuägí£ÇÃè„å¿", TARGET) > ABL:Çuägí£
	RETURN 1

RETURN 0
