;-------------------------------------------------
;ABL:‚`Šg’£ ‚ÌLVUPˆ—
;-------------------------------------------------
@ABLUP31
#DIM LCOUNT
#DIM NUM_CHOICES
#DIM SET_CHOICE
#DIM NUM_JUEL, 10

SIF CONFIG("‚u‚`Šg’£‚ÌŽè“®‚k‚u‚t‚o") == 0
	RETURN 0

;•K—v‚ÈŽì‚È‚Ç‚Ì’l‚ðŽæ“¾
CALL IS_ABLUP31
;‰½‚à‚Å‚«‚È‚¢ê‡
IF RESULT == 0 && ABL:‚`Šg’£ >= 99
	PRINTFORMW Šù‚ÉMAX‚Å‚·B
	RETURN 0
ENDIF

DRAWLINE

PRINTFORML %CALLNAME:TARGET%‚ÌŒ»Ý‚Ì‚`Šg’£‚Í{ABL:‚`Šg’£}LV‚Å‚`–¼Ší“x‚Í{ABL_A(TARGET, "â‘Î’l")}‚Å‚·
PRINTFORML ‚`Šg’£LV‚ðã¸‚³‚¹‚Ü‚·‚©Hi’ˆÓF‘Š‘Î“I‚É‚Í–¼Ší“x‚ÍŒ¸‚éŽ–‚Æ‚È‚è‚Ü‚·j
PRINTFORML 
;‚k‚u‚t‚o‰Â”\
IF CALCF("‚`Šg’£‚ÌãŒÀ", TARGET) > ABL:‚`Šg’£
	ABL:‚`Šg’£ += 1
	PRINTFORML  [ 0] ‚`Šg’£LV‚ð{ABL:‚`Šg’£}‚Éã‚°‚éiƒŒƒxƒ‹‚ðã‚°‚½Œã‚Ì‚`–¼Ší“x‚Í{ABL_A(TARGET, "â‘Î’l")}‚Å‚·j
	ABL:‚`Šg’£ -= 1
ELSE
	SETCOLOR DEF_COLOR("ŠDF")
	PRINTFORML  [~] ‚`Šg’£LV‚ð{ABL:‚`Šg’£ + 1}‚Éã‚°‚é cc‚`Šg’£ŒoŒ±‚â‘fŽ¿‚ª•s‘«‚µ‚Ä‚¢‚é‚æ‚¤‚Å‚·
	RESETCOLOR
ENDIF

PRINTFORML [100] - ‚â‚ß‚é

CALL INPUT_SELECT, 1, 100

SELECTCASE RESULT
CASE 100
	RETURN 0
CASEELSE
	IF CALCF("‚`Šg’£‚ÌãŒÀ", TARGET) > ABL:‚`Šg’£
		ABL:‚`Šg’£ += 1
		CALL GET_EXABL2, TARGET
		PRINTFORMW %CALLNAME:TARGET%‚Ì‚`Šg’£LV‚ª{ABL:‚`Šg’£}‚É‚È‚èA–¼Ší“x‚Í{ABL_A(TARGET, "â‘Î’l")}‚Æ‚È‚è‚Ü‚µ‚½B
	ENDIF
ENDSELECT

;‚Ü‚¾ƒŒƒxƒ‹‚ªã‚°‚ç‚ê‚½‚è‚·‚éê‡‚É‚ÍÅ‰‚É–ß‚é
CALL IS_ABLUP31
SIF RESULT
	RESTART



;ABL:‚`Šg’£‚ÌLVUP‚É•K—v‚ÈðŒ‚ðŽZo‚µALVUPo—ˆ‚é‚È‚ç1‚ð•Ô‚·
@IS_ABLUP31, ARGS
SIF CONFIG("‚u‚`Šg’£‚ÌŽè“®‚k‚u‚t‚o") == 0
	RETURN 0
;Å‘åLV–¢–ž‚©H
SIF ABL:‚`Šg’£ >= 99
	RETURN 0
;ðŒ‚Ì‚Ç‚ê‚©‚ðƒNƒŠƒA‚µ‚Ä‚éH
SIF CALCF("‚`Šg’£‚ÌãŒÀ", TARGET) > ABL:‚`Šg’£
	RETURN 1

RETURN 0
