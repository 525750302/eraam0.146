@COM149
;ƒJƒe[ƒeƒ‹
CALL PRINT_TRAIN_NAME(SELECTCOM)

;-------------------------------------------------
;ΐs‚Ε‚«‚ι‚©‚Μ”»’θ
;-------------------------------------------------
CALL SHOW_COM_ORDER_COM, 149

;ΐs‚Ε‚«‚Θ‚Ά
SIF TCVAR:‚β‚ι‹C == 0
	RETURN 0
;-------------------------------------------------
;ΐs’θ
;-------------------------------------------------
CALL TRAIN_MESSAGE_B

SIF REFUSE_CHECK()
	RETURN 0

STR:‘O‰ρƒRƒ}ƒ“ƒh = %STR:΅‰ρƒRƒ}ƒ“ƒh%

RETURN 1

@FLAG_COM149, ARG
;”A‚Μ‰‚κ”­¶
IF PENIS(TARGET)
	STAIN:‚o = SET_STAIN(STAIN:‚o, "”A")
ELSE
	STAIN:‚u = SET_STAIN(STAIN:‚u, "”A")
ENDIF
;—”Aά‚Μψ‰Κ‚ΝΑΈ
TEQUIP:—”Aά = 0
;©•‚©‚η•ϊ”A‚µ‚½‚Μ‚ΕAΕγ‚ά‚Εo‚µΨ‚θ‚ά‚·
BASE:”AΣ = 0
;ƒpƒ“ƒc‚π‚Έ‚η‚·
SIF !CHECK_CLO("‚uIo") && INSERT("ƒCƒ“ƒT[ƒg") == 0
	CALL SETFLAG, "ƒ{ƒgƒ€‚πIoFƒeƒLƒXƒg–³‚µ", TARGET
;•ϊ”A
EXP:•ϊ”Ao± += 1
NOWEX:•ϊ”A += 1
EX:•ϊ”A += 1

@SOURCE_COM149, ARG
CALL VARSET_COMF

CALL SOURCE_DOWNBASE_HP, 149

SOURCE:0:’Ι‚έ = 1000
SOURCE:0:‹°‚κ = 500
SOURCE:0:•s‰ = 500
SOURCE:0:Io = 2000
SOURCE:0:ν’E = 1500
SOURCE:0:‹ό] = 3000

;PALAM:—~ξ‚π‚έ‚ι
SELECTCASE PALAM:—~ξ
CASE IS < PALAMLV:1
	TIMES SOURCE:0:ν’E, 1.50
CASE IS < PALAMLV:2
	TIMES SOURCE:0:ν’E, 1.00
CASE IS < PALAMLV:3
	TIMES SOURCE:0:ν’E, 0.90
CASE IS < PALAMLV:4
	TIMES SOURCE:0:ν’E, 0.70
CASE IS >= PALAMLV:4
	TIMES SOURCE:0:ν’E, 0.50
ENDSELECT

;ABL:ƒ}ƒ]‚Α‹C‚π‚έ‚ι
SELECTCASE ABL:ƒ}ƒ]‚Α‹C
CASE 0
	TIMES SOURCE:0:ξ¤, 0.80
	TIMES SOURCE:0:Io, 0.80
CASE 1
	TIMES SOURCE:0:ξ¤, 1.00
	TIMES SOURCE:0:Io, 1.00
CASE 2
	TIMES SOURCE:0:ξ¤, 1.30
	TIMES SOURCE:0:Io, 1.20
CASE 3
	TIMES SOURCE:0:ξ¤, 1.40
	TIMES SOURCE:0:Io, 1.40
CASE 4
	TIMES SOURCE:0:ξ¤, 1.70
	TIMES SOURCE:0:Io, 1.50
CASEELSE
	TIMES SOURCE:0:ξ¤, 2.00
	TIMES SOURCE:0:Io, 1.70
ENDSELECT

;κ‚π‚έ‚ι
IF TEQUIP:Ί“ΰIoƒvƒƒC || TEQUIP:–μOƒvƒƒC
	TIMES SOURCE:0:ν’E, 2.50
	TIMES SOURCE:0:Io, 1.50
ELSEIF TEQUIP:‚¨•—CƒvƒƒC
	TIMES SOURCE:0:ν’E, 0.50
ENDIF

SELECTCASE EXP:•ϊ”Ao± + EXP:‚¨R‚η‚µo±
CASE IS < EXPLV:1
	TIMES SOURCE:0:ν’E, 3.00
CASE IS < EXPLV:2
	TIMES SOURCE:0:ν’E, 2.50
CASE IS < EXPLV:3
	TIMES SOURCE:0:ν’E, 2.00
CASE IS < EXPLV:4
	TIMES SOURCE:0:ν’E, 1.00
CASE IS < EXPLV:5
	TIMES SOURCE:0:ν’E, 0.80
CASEELSE
	TIMES SOURCE:0:ν’E, 0.60
ENDSELECT

SELECTCASE EXP:”A“Ήo± + MIN(EXP:PLAYER:”A“ΉΣ‚ίo±, 50)
CASE IS < 5
CASE IS < 20
	TIMES SOURCE:0:’Ι‚έ, 0.70
CASE IS < 50
	TIMES SOURCE:0:’Ι‚έ, 0.50
CASE IS < 150
	TIMES SOURCE:0:’Ι‚έ, 0.20
CASE IS < 300
	TIMES SOURCE:0:’Ι‚έ, 0.05
CASEELSE
	TIMES SOURCE:0:’Ι‚έ, 0.00
ENDSELECT

IF TALENT:”A“Ή«΄
	TIMES SOURCE:0:’Ι‚έ, 0.50
	TIMES SOURCE:0:‹°‚κ, 0.50
ENDIF

;‹Ψ’oΙά
SIF GETBIT(TEQUIP:‹Ψ’oΙά, 1)
	TIMES SOURCE:0:’Ι‚έ, 0.20

CALL CALC, "’²‹³ƒ\[ƒX", ARG


@TRAIN_MESSAGE_COM149
INVERTBIT TEQUIP:ƒJƒe[ƒeƒ‹, 0
IF TEQUIP:ƒJƒe[ƒeƒ‹
	IF PENIS(TARGET)
		PRINTFORMW %CALLNAME:TARGET%‚ΜƒyƒjƒX‚π’Ν‚ρ‚Ε”A“Ήϋ‚πw‚ΕL‚°‚ι‚ΖA—p‚Μƒ[ƒ[‚π“h‚Α‚½ƒJƒe[ƒeƒ‹‚π‚δ‚Α‚­‚θ‚Ζ‘}“ό‚µ‚Δ‚Ά‚Α‚½
		PRINTFORML c
		PRINTFORML cc
		PRINTFORML ccc
		PRINTFORMW –ρ20cm‚Ν·‚µ‚ρ‚Ύ‚Ύ‚λ‚¤‚©H
	ELSE
		PRINTFORMW %CALLNAME:TARGET%‚Μ”A“Ήϋ‚πIo‚³‚Ή‚ΔA—p‚Μƒ[ƒ[‚π“h‚Α‚½ƒJƒe[ƒeƒ‹‚π‚δ‚Α‚­‚θ‚Ζ‘}“ό‚µ‚½
	ENDIF
	PRINTFORMW ζ’[‚δNγχ‚Φ‚Ζ“’B‚·‚ι‚ΖA‘}“ό‚·‚ιΫ‚Μ’οR‚­‚Θ‚­‚Θ‚ι‚Ζ‹¤‚ΙΗ‚©‚η”A‚ƒWƒ‡ƒƒƒc‚Ζ—¬‚κo‚Δ‚­‚ιc
ELSE
	PRINTFORMW %CALLNAME:TARGET%‚Μ”A“Ή‚©‚ηƒJƒe[ƒeƒ‹‚πTd‚Ιψ‚«”²‚Ά‚½c
ENDIF

@EQUIP_COM149
SIF TEQUIP:ƒJƒe[ƒeƒ‹ == 0
	RETURN 0

CALL SOURCE_COM149, 10
RETURN 1

@EQUIP_COM149_2
SIF TEQUIP:ƒJƒe[ƒeƒ‹ == 0
	RETURN 0

PRINTL ƒƒJƒe[ƒeƒ‹‘}“ό’†„
IF BASE:”AΣ >= 1000 || (BASE:”AΣ >= 100 && RAND:4 == 0)
	IF INSERT("ƒCƒ“ƒT[ƒg")
		SELECTCASE CONDS("‘ΜΚ")
		CASE "γ”wΚ"
			PRINTFORML ”A“Ή‚Ι·‚µ‚ά‚κ‚½Η‚©‚η‚ΝAƒ|ƒ^ƒbcƒ|ƒ^ƒbcc‚Ζ‚¨‚µ‚Α‚±‚‚‚κ—¬‚³‚κ‚Δ‚Ά‚ιc
		CASEELSE
			PRINTFORML ”A“Ή‚Ι·‚µ‚ά‚κ‚½Η‚©‚η‚ΝA‚Ώ‚ε‚λ‚Ώ‚ε‚λ‚Ζ‚¨‚µ‚Α‚±‚‰‚µo‚³‚κ‚Δ—¬‚κ‚Δ‚Ά‚ιc
		ENDSELECT
	ELSE
		PRINTFORML ”A“Ή‚Ι·‚µ‚ά‚κ‚½Η‚©‚η‚ΝAƒ|ƒ^ƒbcƒ|ƒ^ƒbcc‚Ζ‚¨‚µ‚Α‚±‚‚‚κ—¬‚³‚κ‚Δ‚Ά‚ιc
	ENDIF
	;”A‚Μ‰‚κ”­¶
	IF PENIS(TARGET)
		STAIN:‚o = SET_STAIN(STAIN:‚o, "”A")
	ELSE
		STAIN:‚u = SET_STAIN(STAIN:‚u, "”A")
	ENDIF
	BASE:”AΣ = 0
ENDIF

RETURN 1


@COM_ORDER_COM149, ARG
VARSET LOCAL
LOCALS = 

;‚·‚Χ‚Δ‚Μ–½—ί‚Ι‹¤’Κ‚Μ—v‘f‚πl—¶
;(M—‚‚‚Ά‚Ζ–½—ί‚Ι]‚Ά‚β‚·‚Ά‚Θ‚Η)
CALL COM_ORDER, ARG

LOCAL = RESULT

;ABL:Io•Θ
IF ABL:Io•Θ
	LOCAL += MIN(ABL:Io•Θ, 10) * 2
	LOCALS = %LOCALS% + Io•ΘLV{ABL:Io•Θ}({MIN(ABL:Io•Θ, 10) * 2})
ENDIF
;ABL:ƒ}ƒ]‚Α‹C
IF ABL:ƒ}ƒ]‚Α‹C
	LOCAL += MIN(ABL:ƒ}ƒ]‚Α‹C, 5) * 3
	LOCALS = %LOCALS% + ƒ}ƒ]‚Α‹CLV{ABL:ƒ}ƒ]‚Α‹C}({MIN(ABL:ƒ}ƒ]‚Α‹C, 5) * 3})
ENDIF
;—βΓ
IF TALENT:—βΓ
	LOCAL -= 5
	LOCALS = %LOCALS% - —βΓ(5)
ENDIF
;’p‚¶‚η‚Ά
IF TALENT:’p‚¶‚η‚Ά
	LOCAL -= 15
	LOCALS = %LOCALS% - ’p‚¶‚η‚Ά(15)
ENDIF
;’p”–‚Ά
IF TALENT:’p”–‚Ά
	LOCAL += 2
	LOCALS = %LOCALS% + ’p”–‚Ά(2)
ENDIF
;΄‘^
IF TALENT:΄‘^
	LOCAL -= 10
	LOCALS = %LOCALS% - ΄‘^(10)
ENDIF
;‰υ΄‚Ι‘f’Ό
IF TALENT:‰υ΄‚Ι‘f’Ό
	LOCAL += 5
	LOCALS = %LOCALS% + ‰υ΄‚Ι‘f’Ό(5)
ENDIF
;‰υ΄‚Μ”Ϋ’θ
IF TALENT:‰υ΄‚Μ”Ϋ’θ
	LOCAL -= 5
	LOCALS = %LOCALS% - ‰υ΄‚Μ”Ϋ’θ(5)
ENDIF
;“|φ“I
IF TALENT:“|φ“I
	LOCAL += 10
	LOCALS = %LOCALS% + “|φ“I(10)
ENDIF
IF TEQUIP:S‘©
	LOCAL += 30
	LOCALS = %LOCALS% + S‘©’†(30)
ENDIF
;›Z–ς
IF TEQUIP:›Z–ς
	LOCAL += 2
	LOCALS = %LOCALS% + ›Z–ς(2)
ENDIF
;”A“Ή«΄
IF TALENT:”A“Ή«΄
	LOCAL += 10
	LOCALS = %LOCALS% + ”A“Ή«΄(10)
ENDIF
;ƒrƒfƒIB‰e
IF TEQUIP:ƒrƒfƒIƒJƒƒ‰
	LOCAL -= 20
	LOCALS = %LOCALS% - B‰e’†(20)
ENDIF
;–μOorΊ“ΰIo
IF TEQUIP:–μOƒvƒƒC
	LOCAL -= 10
	LOCALS = %LOCALS% - –μOƒvƒƒC(10)
ELSEIF TEQUIP:Ί“ΰIoƒvƒƒC
	LOCAL -= 10
	LOCALS = %LOCALS% - Ί“ΰIo(10)
ENDIF

;‡v‚π•\¦(60Θγ‚Εΐs)
CALL PRINT_COM_ORDER_COM, LOCALS, ARG, LOCAL, 50

RETURN RESULT
