;-------------------------------------------------
; キャラの固有イベント
;-------------------------------------------------

;-------------------------------------------------
;
;-------------------------------------------------
@RYOKO_EVENT(ARGS, ARG)
LOCALS = イベント：%ARGS%
SIF CEVENT(LOCALS, ARG)
	RETURN 0

CALL RYOKO_EVENT_CHECK_TRIGGER(ARGS, ARG)
SIF RESULT == 1
	CALL RYOKO_EVENT_MAIN(ARGS, ARG)

RETURN 1;

;-------------------------------------------------
; イベントメイン処理
;-------------------------------------------------
@RYOKO_EVENT_MAIN(ARGS, ARG)
#DIMS EVESTR
EVESTR = イベント：%ARGS%
SELECTCASE ARGS
;-------------------
; 避妊禁止
;-------------------
CASE "避妊禁止"
	DRAWLINE
	PRINTFORMW 【夜半：%CNAMET(ARG, "玲子")%の借りているアパートにて】
	PRINTFORML 
	CALL PRINT_STRW,  "「…………はぁ_BH_」"
	PRINTFORMW 粗末なベッドに身体を横たえて、%CNAMET(ARG, "玲子")%は自分でも判別のつかぬ息を吐いた。
	PRINTFORMW 自然、自分の下腹部――胎に手が伸びる。
	CALL PRINT_STRW,  "「まだ残ってる……わよね……_／／／_」"
	PRINTFORMW 気の所為か――いや、そうであって欲しいのだが。ぽこり、と膨らんでいるように感じる。
	CALL PRINT_STRW,  "「……ぅぅ_BH_」"
	PRINTFORMW 何が詰まっているのか、などと考える必要はない。なにせ、意識する必要がないほどに注ぎ込まれたのだ。
	CALL PRINT_STRW,  "「ぅー……_BH_」"
	PRINTFORMW 気を抜くと思い出す。意識してしまう。
	PRINTFORMW 自分の性器の中に潜り込んできた雄の分身。
	PRINTFORMW 普段自慰で使っているオモチャとは違い、勝手に、こちらの意図から離れて暴れまわるそれ。
	PRINTFORMW 自分で自分を慰めるのとはかけ離れたそれは、やがて力を蓄えるように震えて、そして――
	CALL PRINT_STRW,  "「ナカに出された……_BH_」"
	PRINTFORM 口にすると、その時の感覚がありありと思い出される。根元まで呑み込んだ陰茎の熱も、形も、弾けるように
	PRINTFORMW 膣の奥にぶちまけられた白濁の粘り気も。
	CALL PRINT_STRW,  "「…………うぅ_BH_」"
	PRINTFORMW お臍の裏側のあたりに、べっとりとこびり付いているような、そんな気がする。
	PRINTFORM ……いや、事実、そうなのだろう。今日、膣内射精を――なあなあのままに――許してからずっと、
	PRINTFORM 下腹部にたっぷたっぷと蕩けたなにかが溜まっていた感覚があったし、先程シャワーを浴びていたら
	PRINTFORM お湯のせいで緊張が緩んだのか、ごぽり、とはっきり聞こえるほどの音を立ててワレメから白く濁った
	PRINTFORM 粘っこい何か……紛れもない、胎内、子宮目掛けて注ぎ込まれて、後生大事に溜め込んでいた精液が
	PRINTFORMW 溢れ出てきたのだ。
	PRINTFORM こんなに射精されたの、と驚いたが、それでもまだ下腹部――子宮のあたりにむず痒いような違和感が
	PRINTFORMW あるということは、つまり。
	CALL PRINT_STRW,  "「リタイアしなかった元気なザーメンが……_BH_　まだここに、たくさん……_BH_」"
	CALL PRINT_STRW,  "（これから……どのくらいの頻度で股を開く羽目になるのかは、分からないけど……_BH_）"
	CALL PRINT_STRW,  "「子宮が精液の味、覚えちゃうわよ……もう……_BH_」"
	PRINTFORMW 更に最悪な――そう、最悪、の筈だ――ことに、自分には、それを拒否することは許されないらしい。
	CALL PRINT_STRW,  "「自発的な避妊の禁止、って……_BH_」"
	PRINTFORMW テーブルの上の空き缶を見る。もう燃えカスも残っていないが、アパートに届けられていた追加の指示はしっかりと確認した。
	CALL PRINT_STRW,  "（対象の性能力を計るため、積極的に性行為に応えること――は、まあ、いいとして……_BH_）"
	CALL PRINT_STRW,  "「生殖能力を計るため、避妊具および避妊薬の使用を禁じる……って……_BH_」"
	CALL PRINT_STRW,  "（つまり妊娠お構いなしに腰を振れって、そういうコト……？_／／／_）"
	PRINTFORMW 正しくは妊娠するかどうか確かめたいから避妊するな、という指示だが、そんなことは確かめる必要を感じない。
	CALL PRINT_STRW,  "「…………ぅぅ_BH_」"
	CALL PRINT_STRW,  "「あんな濃い精液……_BH_　妊娠しない訳がないじゃない……_BH_」"
	CALL PRINT_STRW,  "（妊娠した場合、出産および育児のサポートは行うって……_BH_　その前に、う、うぅ_BH_）"
	CALL PRINT_STRW, @"「し、しっかりしない%CNAMET(ARG, "玲子")%……_／／／_　お役目だもの、恥ずかしがる暇なんてないわ……_／／／_」"
	CALL PRINT_STRW,  "「そ、それに、悪魔と契約した人間の精液なんて、下手に処分できないし……」"
	CALL PRINT_STRW,  "「ちゃんとナカで受け止めて……周囲に影響が出ないようにしないと……_BH_」"
	CALL PRINT_STRW,  "「……ぅ、ぅぅ_BH_　ああ、もう……っ_／／／_」"
	CALL PRINT_STRW,  "「名前、考えておいたほうがいいのかしら……？_／／／_」"
	PRINTFORMW 流石に気が早いかしら、と嘯きながら%CNAMET(ARG, "玲子")%は自覚なくも柔らかな手付きで自分の下腹部をさすりながら、やがて眠りに落ちていった……
	PRINTFORMW …………
	PRINTFORMW ……
	PRINTFORMW 
	DRAWLINE

CASE "初妊娠"
	DRAWLINE
	PRINTFORMW 【夜半：%CNAMET(ARG, "玲子")%のアパートのトイレにて】
	PRINTFORML 
	CALL PRINT_STRW,  "「ぅ……_BH_　やだ、これ……_／／／_　どうしようかしら……_BH_」"
	PRINTFORMW %CNAMET(ARG, "玲子")%はパンツを下ろした姿で便座に腰掛けながら、何度目かも分からぬ呟きを洩らした。
	PRINTFORMW その視線は、手の中の細長いプラスチック製の容器に向けられている。
	CALL PRINT_STRW,  "（こっちが検査完了の反応で……だから、こっちが、その……_BH_）"
	PRINTFORMW 容器には小窓が２つ空いており、中の紙片が覗いている。
	PRINTFORMW いまはその両方に淡いピンク色の線が浮かんでいた。
	CALL PRINT_STRW,  "（に、妊娠の……陽性反応、よね）"
	PRINTFORMW つまり、
	CALL PRINT_STRW,  "「……デキちゃったぁ…………_BH_／／／_BH_」"
	PRINTFORMW 噛みしめるように呟きながら、%CNAMET(ARG, "玲子")%は自分の下腹部を優しく撫でた……
	IF MARK:ARG:淫紋
		; TODO: 淫紋が反応している描写
	ENDIF
	CALL PRINT_STRW,  "（こ……これもお役目の一環よね……）"
	CALL PRINT_STRW,  "（出産と育児に関しては、『上』でちゃんと面倒見てくれるっていう連絡もあったし……）"
	CALL PRINT_STRW,  "「それなら別に……も、問題は無い、わよね……_BH_」"
	CALL PRINT_STRW,  "（思い当たる『原因』なんて、それこそ履いて捨てるほどあるし……）"
	IF CFLAG:ARG:最新中出し日 == DAY
		CALL PRINT_STRW,  "（今日だって……_BH_　いっぱい、出してもらっちゃったし……_BH_）"
		CALL PRINT_STRW,  "「…………ぁっ_BH_」"
		PRINTFORMW 不意に、股の間から暖かなものが抜け落ちるような感覚があった。
		CALL PRINT_STRW,  "（やだ……_BH_　ナカに残ってたのがこぼれちゃった……_BH_）"
	ENDIF
	CALL PRINT_STRW,  "「…………_BH_」"
	CALL PRINT_STRW,  "（い、いきなり『責任取って』って言い出すのは……ダメよね）"
	CALL PRINT_STRW,  "（お役目もあるし……き、気付いていないふりした方がいいかしら）"
	CALL PRINT_STRW,  "「……ま、まあ、おいおい考えましょう、おいおい」"
	CALL PRINT_STRW,  "（でも……_BH_　赤ちゃん、かぁ_BH_）"
	CALL PRINT_STRW,  "「元気な子が産まれてきますように…………_BH_」"
	PRINTFORM %CNAMET(ARG, "玲子")%は穏やかに微笑みながら、優しく自らの下腹部に触れた……
	PRINTFORMW …………
	PRINTFORMW ……
	PRINTFORMW 

CASEELSE
	EVESTR = 
ENDSELECT

SIF STRLENSU(EVESTR)
	CALL SET_CEVENT, EVESTR, ARG

;-------------------------------------------------
; イベント発生条件
;-------------------------------------------------
@RYOKO_EVENT_CHECK_TRIGGER(ARGS, ARG)
SELECTCASE ARGS
;-------------------
; 避妊禁止
;-------------------
CASE "避妊禁止"
	SIF CEVENT("イベント：避妊禁止", ARG)
		RETURN 0
	SIF EXP_GAIN("膣内精液経験", ARG) == 0
		RETURN 0
	RETURN 1
;-------------------
; 初妊娠
;-------------------
CASE "初妊娠"
	SIF TALENT:ARG:出産経験 > 0
		RETURN 0
	SIF !COND("妊娠中：妊娠発覚直前", ARG)
		RETURN 0
	RETURN 1

;-------------------
; 告白成功
;-------------------
CASE "告白成功"
	SIF !TALENT:ARG:恋慕
		RETURN 0
	;SIF !TALENT:ARG:出産経験
	;	RETURN 0
	RETURN 1
;-------------------
; 処女喪失
;-------------------
CASE "処女喪失"
	
	RETURN 1
ENDSELECT
RETURN 0
