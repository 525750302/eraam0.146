@COM504
;逆剃毛

PRINTL 逆剃毛

CALL TRAIN_MESSAGE_B

SIF REFUSE_CHECK()
	RETURN 0

STR:前回コマンド = 逆剃毛

RETURN 1

@FLAG_COM504, ARG
CALL SETFLAG, "剃毛フラグ", PLAYER
;上手だと、日付が0になります
SIF ABL:技巧 < 4 && COND("陰毛", PLAYER) > 3
	BASE:PLAYER:陰毛 += 5


@SOURCE_COM504, ARG
CALL VARSET_COMF

CALL SOURCE_DOWNBASE_HP, 504

SOURCE:0:達成感 = 1000
SOURCE:0:逸脱 = 1000

SELECTCASE COND("陰毛", PLAYER)
CASE 3
	SOURCE:0:達成感 += 1000
	SOURCE:0:逸脱 += 1000
CASE 2
	SOURCE:0:達成感 += 1500
	SOURCE:0:逸脱 += 2000
ENDSELECT

;ABL:サドっ気をみる
SELECTCASE ABL:サドっ気
CASE 0
	TIMES SOURCE:0:達成感, 1.50
	TIMES SOURCE:0:逸脱, 2.00
CASE 1
	TIMES SOURCE:0:達成感, 1.20
	TIMES SOURCE:0:逸脱, 1.50
CASE 2

CASE 3
	TIMES SOURCE:0:達成感, 0.70
	TIMES SOURCE:0:逸脱, 0.70
CASE 4
	TIMES SOURCE:0:達成感, 0.60
	TIMES SOURCE:0:逸脱, 0.40
CASEELSE
	TIMES SOURCE:0:達成感, 0.30
	TIMES SOURCE:0:逸脱, 0.10
ENDSELECT

CALL CALC, "調教ソース", ARG


@TRAIN_MESSAGE_COM504
IF TALENT:PLAYER:オトコ
	PRINTFORMW %CALLNAME:TARGET%は%CALLNAME:PLAYER%を押さえつけて、陰毛を剃り始めた…
ELSE
	PRINTFORMW %CALLNAME:TARGET%は%CALLNAME:PLAYER%の股間を押し開いて、アソコの毛を剃り始めた。
ENDIF

IF ABL:技巧 >= 4 && RAND:5 == 0
	PRINTFORM %CALLNAME:PLAYER%は陰毛を
	SIF ABL:技巧 >= 5
		PRINT 念入りに
	PRINTW 脱毛されてしまった…
	BASE:PLAYER:陰毛 = 200
	DOWNBASE:体力 += 30
ELSEIF ABL:技巧 >= 3 && RAND:2 == 0 && COND("陰毛", PLAYER) >= 6
	PRINTFORM %CALLNAME:TARGET%は
	SIF ABL:技巧 >= 4
		PRINT 上手に
	PRINTFORMW %CALLNAME:PLAYER%の陰毛の形を整えました…
	BASE:PLAYER:陰毛 = 500
ELSE
	PRINTFORM %CALLNAME:TARGET%は
	IF ABL:技巧 >= 4
		PRINT 丁寧に
	ELSEIF ABL:技巧 <= 2 && RAND:2 == 0
		PRINT ちょっと失敗してしまったようで、結局
	ENDIF
	PRINTFORMW %CALLNAME:PLAYER%の陰毛を剃り落としてツルツルにしました…
	BASE:PLAYER:陰毛 = 300
ENDIF
